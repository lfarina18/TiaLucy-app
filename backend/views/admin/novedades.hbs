<div class="container" style="margin:20px auto">

    <div class="d-flex justify-content-evenly mb-5">

        <a href="/admin/switch" class="btn btn-secondary fs-5">
            Volver <i class="ms-2 fas fa-reply"></i></a>
        <a href="/admin/novedades/agregar" class="btn btn-success fs-4"> <i class="fas fa-plus me-2"
                aria-hidden="true"></i>Nuevo</a>
        <a href="/admin/login/logout" class="btn btn-danger fs-5">
            Cerrar sesión <i class="ms-2 fas fa-sign-out-alt btn_logout__pa"></i>
        </a>
    </div>

    <h3 class="fw-bold fs-1">Listado de Novedades</h3>


    <div class="row">
        <div class="col">
            <table class="table table-light mt-3 table-striped table-hover">
                <thead>
                    <tr class="table-dark">
                        <th scope="col">#</th>
                        <th scope="col">Titulo</th>
                        <th scope="col">Mensaje</th>
                        <th scope="col" class="text-end">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each novedades}}
                    <tr>
                        <th scope="row">{{id}}</th>
                        <td>{{titulo}}</td>
                        <td>{{mensaje}}</td>
                        <td class="text-end">
                            <a href="/admin/novedades/modificar/{{id}}" class="btn btn-outline-info me-2">
                                <i class="fa fa-pencil-alt"></i> </a>

                            <a class="btn btn-outline-danger" onclick="confirmar({{id}})">
                                <i class="fa fa-trash"></i></a>
                        </td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    function confirmar(id) {
        Swal.fire({
            title: '¿Estas seguro?',
            text: 'Una novedad eliminada no se puede recuperar',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Si, eliminar',
            cancelButtonText: 'Cancelar',
        }).then((result) => {
            if (result.isConfirmed) {
                window.location = "/admin/novedades/eliminar/" + id
            }
        })
    }
</script>